import{r as n,j as s,c as u,L as _,H as j,a as m,P as x,A as h}from"./index-CSY4pNU4.js";const g="_input_17pbj_1",o={input:g,"input-wrapper":"_input-wrapper_17pbj_16"},f=n.forwardRef(function({className:t,isValid:i=!0,...a},d){return s.jsxs("div",{className:o["input-wrapper"],children:[s.jsx("input",{...a,ref:d,className:u(t,o.input,{[o.invalid]:!i})}),s.jsx("img",{className:o.icon,src:"/ts2025/search.svg",alt:"Иконка лупы"})]})}),v="_head_oeys0_1",N={head:v},y="_head_qzjpt_1",q="_card_qzjpt_7",z="_footer_qzjpt_14",w="_title_qzjpt_18",k="_description_qzjpt_26",E="_link_qzjpt_34",$="_price_qzjpt_38",b="_currency_qzjpt_52",L="_raiting_qzjpt_56",r={head:y,card:q,footer:z,title:w,description:k,link:E,price:$,currency:b,raiting:L,"add-to-cart":"_add-to-cart_qzjpt_71"};function F(e){return s.jsx(_,{to:`/ts2025/product/${e.id}`,className:r.link,children:s.jsxs("div",{className:r.card,children:[s.jsxs("div",{className:r.head,style:{backgroundImage:"url('/ts2025/card-bg.png')"},children:[s.jsxs("div",{className:r.price,children:[e.price," ",s.jsx("span",{className:r.currency,children:"₽"})]}),s.jsx("button",{className:r["add-to-cart"],children:s.jsx("img",{src:"/ts2025/product_cart.svg",alt:"Иконка добавить"})}),s.jsxs("div",{className:r.raiting,children:[e.rating,s.jsx("img",{src:"/ts2025/star.svg",alt:"Иконка звезды"})]})]}),s.jsxs("div",{className:r.footer,children:[s.jsx("div",{className:r.title,children:e.name}),s.jsx("div",{className:r.description,children:e.description})]})]})})}const I="_wrapper_7fxue_1",M={wrapper:I};function P({products:e}){return s.jsx("div",{className:M.wrapper,children:e.map(t=>s.jsx(F,{id:t.id,name:t.name,description:t.ingredients.join(", "),rating:t.rating,price:t.price,image:t.image},t.id))})}function R(){const[e,t]=n.useState([]),[i,a]=n.useState(!1),[d,l]=n.useState(),p=async()=>{try{a(!0);const{data:c}=await m.get(`${x}/products`);t(c),a(!1)}catch(c){console.error(c),c instanceof h&&l(c.message),a(!1);return}};return n.useEffect(()=>{p()},[]),s.jsxs(s.Fragment,{children:[" ",s.jsxs("div",{className:N.head,children:[s.jsx(j,{children:"Menu"}),s.jsx(f,{placeholder:"Введите блюдо или состав"})]}),s.jsxs("div",{children:[d&&s.jsx(s.Fragment,{children:d}),!i&&s.jsx(P,{products:e}),i&&s.jsx(s.Fragment,{children:"Загружаем продукты..."})]})]})}export{R as Menu,R as default};
